<html>
<head>
   <style>
      head, body{
         background: #000000;
      }
      p1{
         color: #66ff66;
         font-size: 150px;
         font-family: 'retro';
         top: 50px;
         letter-spacing: 1px;
         -webkit-user-select: none;
         -khtml-user-select: none;
         -moz-user-select: none;
         -ms-user-select: none;
         user-select: none;
      }
      p2{
         color: #66ff55;
         font-size: 30px;
         font-family: 'retro';
         -webkit-user-select: none;
         -khtml-user-select: none;
         -moz-user-select: none;
         -ms-user-select: none;
         user-select: none;
      }
      p10{
         color: #66ff55;
         font-size: 50px;
         font-family: 'retro';
         -webkit-user-select: none;
         -khtml-user-select: none;
         -moz-user-select: none;
         -ms-user-select: none;
         user-select: none;
      }
      p4{
         color: #66ff66;
         font-size: 50px;
         font-family: 'retro';
         letter-spacing: 1px;
         -webkit-user-select: none;
         -khtml-user-select: none;
         -moz-user-select: none;
         -ms-user-select: none;
         user-select: none;
      }
      p9{
         color: #66ff66;
         font-size: 30px;
         font-family: 'retro';
         letter-spacing: 1px;
         -webkit-user-select: none;
         -khtml-user-select: none;
         -moz-user-select: none;
         -ms-user-select: none;
         user-select: none;
      }
      @font-face {
         font-family: retro;
         src: url(resources/fonts/retro.ttf);
      }
      .test{
         text-align: center;
      }
      .stbtn,.setbtn,.ntr{
         border: none;
         background: transparent;
         outline: none;
         transition: 800ms;
      }
      .stbtn:hover,.setbtn:hover,.ntr:hover{
         letter-spacing: 10px ;
         cursor: pointer;
      }
      .nametxt{
         font-size: 50px;
         color: lightgreen;
         border: 3px solid #66FF55;
         background: transparent;
         width: 400px;
         height: 50px;
         text-align: center;
         border-radius:100px;
      }
      .nametxt:focus{
         outline: none;
      }
      .button1,.button2,.button3{
         position:absolute;
         top:0;
         left:0;
         bottom:0;
         right:0;
         height:100%;
         width:100%;
      }

   </style>
</head>
<body>
   <div style="display:flex; flex-direction: column;"id="wrn">
      <div style="text-align:center;">
         <br><br><br><br><br><br><br><br><br><br><br>
         <p4>WARNING</p4>
      </div>
      <div style="text-align:center;">
         <p9>The following game may induce epilepsy.</p9>
         <br>
         <p9>Play at your own risk.</p9>
      </div>
      <div style="text-align: center">
         <br>
         <button class="stbtn" onClick="next();"value="Start"><p2>GO</p2></button>
         <br><br>
      </div>
      <br>
   </div>

   <div id="scrn1" style="display: none; flex-direction: column;">
      <br><br><br><br><br><br><br><br><br><br><br><br>
      <div style="text-align: center;">
         <p1><span  id="wname"></span></p1>
         <br>
      </div>
      <div style="text-align: center;"class="test">
         <button class="stbtn" id="s1"onClick="next1();"><p10>Start Game</p10></button>
         <br><br>
         <button class="setbtn" style="disabled display: none;"id="block1"onClick = "Continue();"><p10>Continue</p10></button><br><br>
         <button class="setbtn" style="disabled display: none;"id="block2"onClick = "reset();"><p10>Reset Game</p10></button>
      </div>
      <br>
   </div>

   <div id="scrn2" style="display: none; flex-direction: column;">
      <br><br><br><br><br><br>
      <div id="nameshow" style="display: none; text-align: center;">
         <p10>Your name is  "<p10><span id="namediv"></span></p10>" (you cannot change this later)</p10>
      </div>
      <br><br><br><br><br><br><br><br>
      <div style="text-align: center">
         <input style="text-align: center;"type="text" id="nametxt" class="nametxt"maxlength="11" minlength="2"><br><br>
      </div>
      <div style="text-align: center">
         <button  id="entrnme"  style="text-align: center;" class="stbtn"onClick="entername(),this.style.display='none'"><p10>Enter Name</p10></button>
         <br>
      </div>
      <div id="sub" style="display:none; text-align:center">
         <button style="text-align: center;" class="stbtn" id="cont"onClick="startGame();"><p10>Continue</p10></button><br>
         <button style="text-align: center;" class="stbtn" id="cont"onClick="window.location.reload();"><p10>Choose Another Name</p10></button>
      </div>
   </div>

   <div id="mainG1" style="display: none; text-align: center;">
      <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

      <div id = "sc1"style="text-align: center;">
         <p10>My name is <br><span id="namediv1"></span></p10><br>
         <div class="button1" onClick="showNext1();">
         </div>
      </div>

      <div id= "sc2"style="display: none;text-align: center;">
         <p10>I know that.</p10><br>
         <div class="button2" onClick="showNext2();">
         </div>
      </div>

      <div id= "sc3"style="display: none;text-align: center;">
         <p10>But why do I forget?</p10>
         <div class="button3" onClick="showNext3();">
         </div>
      </div>
   </div>
  <div style="display:grid; align-items:center;justify-items:center">
      <canvas id="canvas" style="display: none;text-align: center;"></canvas>
   </div>
   <script>

      window.onload= function(){
         localStorage.getItem(document.getElementById("nametxt").value);
         let name = localStorage.getItem('name');
         console.log(localStorage.getItem('name'));
		 console.log("this is an HTML game by lieutenantlark, with assistance from MBF/Team Lightning and renox.")

         if(localStorage.getItem('name')==null||localStorage.getItem('name')==""){
            document.getElementById("block1").style.display = "none";
            document.getElementById("block1").disabled = true;
            document.getElementById("block2").style.display = "none";
            document.getElementById("block2").disabled = true;
            document.getElementById("s1").style.display = "inline-block";

         }if(localStorage.getItem('name')!=null){
            document.getElementById("s1").style.display = "none";
         }
      }
      document.getElementById("wname").textContent="AMNESIA";
      var snd1 = new Audio("resources/audio/mainambient.mp3");
      var snd2 = new Audio("resources/audio/NGGUU.mp3");
      var snd3 = new Audio("resources/audio/kekw.mp3");
      var snd4 = new Audio("resources/audio/FDB.mp3");


      function bobux(){
         snd2.play();
         localStorage.removeItem('name');
      }
      function FDB(){
         snd4.play();
         snd4.volume=1;
         localStorage.removeItem('name');
      }
      function kekw(){
         snd3.play();
         localStorage.removeItem('name');
         setTimeout(
            function() {
               window.location.reload();
            }, 8000);

      }
      function fadein1(){
         setTimeout(
            function() {
               document.getElementById("mainG1").style.display="block";
            }, 1000);
      }
         document.getElementById("wrn").style.display="none";
         document.getElementById("scrn1").style.display="block";
         snd1.play();
         snd1.volume=0.25;
         snd1.loop=true;
         var targetelement = document.documentElement;
         if (targetelement.requestFullscreen)
         {
            targetelement.requestFullscreen();
         }
         if (targetelement.mozRequestFullScreen)
         {
            targetelement.mozRequestFullScreen();
         }
         if (targetelement.msRequestFullscreen)
         {
            targetelement.msRequestFullscreen();
         }
      }  
      function next1(){
         document.getElementById("scrn1").style.display="none";
         document.getElementById("scrn2").style.display="block";
      }
      var textInputElement = document.getElementById('nametxt');
      nameDivElement = document.getElementById('namediv');
      function entername() {
         setTimeout(
            function() {
               localStorage.setItem('name',document.getElementById("nametxt").value);
               var text = textInputElement.value;
               nameDivElement.innerHTML = text;
               document.getElementById('namediv1').innerHTML= text;
      function next(){
if(text == "teaml" or text == "lark"){
                    console.log("DEV MODE ON");
}
               if(text=="kekw"){
                  kekw();
               }
               if(text=="dookieballs"){
                  FDB();

               }
               if(text==""){

                  back();

               }
               if(text=="bobux"){
                  bobux();
                  setTimeout(
                     function() {
                        window.location.reload();
                     }, 10065);
               }
			   if(text == "teaml" || text == "lark"){
					console.log("DEV MODE ON");
					//if dev tools exist they would be enabled here
					}
			   if(text!="bobux"|"kekw"){
                  document.getElementById("sub").style.display="block";
                  document.getElementById("nameshow").style.display="block";
                  document.getElementById("nametxt").disabled = true;
                  document.getElementById("entrnme").disabled = true;
                  document.getElementById("nametxt").style.display="none";
                  document.getElementById("entrnme").style.display="none";
               } 
            }, 1500);
      } 
      function startGame(){
         snd1.pause();
         document.getElementById("sub").style.display="none";
         document.getElementById("scrn2").style.display="none";
         fadein1();
      }
      function startGametrue(){
         snd1.pause();
         document.getElementById("scrn1").style.display="none";
         document.getElementById("wrn").style.display="none";
         document.getElementById("mainG1").style.display="none";
         fadein1();
      }
      function Continue(){
         document.getElementById("namediv1").textContent= localStorage.getItem('name');
         startGametrue();

      }
      function reset(){
         setTimeout(
            function() {
               document.getElementById("s1").style.display = "inline-block";
               localStorage.removeItem('name');
               document.getElementById("block1").style.display = "none";
               document.getElementById("block1").disabled = true;
               document.getElementById("block2").style.display = "none";
               document.getElementById("block2").disabled = true;
            }, 10);
      }
      function back(){
         window.location.reload();
      }
      function showNext1(){
         setTimeout(
            function() {

               document.getElementById("sc1").style.display="none";
               document.getElementById("sc2").style.display="block";
            }, 1000); 

      }
      function showNext2(){
         setTimeout(
            function() {

               document.getElementById("sc2").style.display="none";
               document.getElementById("sc3").style.display="block";
            }, 1000); 
      }
      function showNext3(){       
         setTimeout(
            function() {

               document.getElementById("sc3").style.display="none";
            }, 2000); 
         startgamefr();
      }
      function startgamefr(){
         setTimeout(
            function() {
               document.getElementById("canvas").style.display="block";
               document.getElementById("mainG1").style.display="none";
            }, 2000); 
      }
      //game


   </script>

   <script>
      // The attributes of the player.
      var player = {
         x: 200,
         y: 200,
         x_v: 0,
         y_v: 0,
         jump : true,
         height: 20,
         width: 20
      };
      // The status of the arrow keys
      var keys = {
         right: false,
         left: false,
         up: false,
      };
      // The friction and gravity to show realistic movements    
      var gravity = 0.6;
      var friction = 0.7;
      // The number of platforms
      var num = 2;
      // The platforms
      var platforms = [];
      // Function to render the canvas
      function rendercanvas(){
         ctx.fillStyle = "#F0F8FF";
         ctx.fillRect(0, 0, 270, 270);
      }
      // Function to render the player
      function renderplayer(){
         ctx.fillStyle = "#F08080";
         ctx.fillRect((player.x)-20, (player.y)-20, player.width, player.height);
      }
      // Function to create platforms
      function createplat(){
         for(i = 0; i < num; i++) {
            platforms.push(
               {
                  x: 100 * i,
                  y: 200 + (30 * i),
                  width: 110,
                  height: 15
               }
            );
         }
      }
      // Function to render platforms
      function renderplat(){
         ctx.fillStyle = "#45597E";
         ctx.fillRect(platforms[0].x, platforms[0].y, platforms[0].width, platforms[0].height);
         ctx.fillRect(platforms[1].x, platforms[1].y, platforms[1].width,platforms[1]. height);

      }
      // This function will be called when a key on the keyboard is pressed
      function keydown(e) {
         // 37 is the code for the left arrow key
         if(e.keyCode == 37) {
            keys.left = true;
         }
         // 37 is the code for the up arrow key
         if(e.keyCode == 38) {
            if(player.jump == false) {
               player.y_v = -10;
            }
         }
         // 39 is the code for the right arrow key
         if(e.keyCode == 39) {
            keys.right = true;
         }
      }
      // This function is called when the pressed key is released
      function keyup(e) {
         if(e.keyCode == 37) {
            keys.left = false;
         }
         if(e.keyCode == 38) {
            if(player.y_v < -2) {
               player.y_v = -3;
            }
         }
         if(e.keyCode == 39) {
            keys.right = false;
         }
      } 
      function loop() {
         // If the player is not jumping apply the effect of frictiom
         if(player.jump == false) {
            player.x_v *= friction;
         } else {
            // If the player is in the air then apply the effect of gravity
            player.y_v += gravity;
         }
         player.jump = true;
         // If the left key is pressed increase the relevant horizontal velocity
         if(keys.left) {
            player.x_v = -2.5;
         }
         if(keys.right) {
            player.x_v = 2.5;
         }
         // Updating the y and x coordinates of the player
         player.y += player.y_v;
         player.x += player.x_v;
         // A simple code that checks for collions with the platform
         let i = -1;
         if(platforms[0].x < player.x && player.x < platforms[0].x + platforms[0].width &&
            platforms[0].y < player.y && player.y < platforms[0].y + platforms[0].height){
            i = 0;
         }
         if(platforms[1].x < player.x && player.x < platforms[1].x + platforms[1].width &&
            platforms[1].y < player.y && player.y < platforms[1].y + platforms[1].height){
            i = 1;
         }
         if (i > -1){
            player.jump = false;
            player.y = platforms[i].y;    
         }
         // Rendering the canvas, the player and the platforms
         rendercanvas();
         renderplayer();
         renderplat();
      }
      canvas=document.getElementById("canvas");
      ctx=canvas.getContext("2d");
      ctx.canvas.height = 270;
      ctx.canvas.width = 270;
      createplat();
      // Adding the event listeners
      document.addEventListener("keydown",keydown);
      document.addEventListener("keyup",keyup);
      setInterval(loop,22);
   </script>
</body>
</html>
